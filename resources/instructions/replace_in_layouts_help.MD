# ğŸ§© Replace Text in Layouts â€” Guia Completo de Uso

Bem-vindo Ã  ferramenta **Replace Text in Layouts** do pacote **MTL Tools**!  
Ela foi desenvolvida para automatizar substituiÃ§Ãµes em massa dentro dos *Layouts* do QGIS, permitindo atualizar dezenas ou centenas de rÃ³tulos em questÃ£o de segundos e com total seguranÃ§a.

---

## ğŸ¯ Objetivo da Ferramenta

Esta ferramenta localiza ocorrÃªncias de texto dentro de **QgsLayoutItemLabel** (rÃ³tulos/textos nos layouts) e substitui automaticamente por outro texto definido pelo usuÃ¡rio.

Use quando precisar:

- Atualizar anos em documentos (ex.: â€œ2023â€ â†’ â€œ2025â€)
- Corrigir nomes de Ã³rgÃ£os, clientes, setores ou responsÃ¡veis
- Padronizar grafias (â€œKmâ€ â†’ â€œKMâ€)
- Remover textos obsoletos
- Atualizar versÃµes de mapas e plantas
- Fazer substituiÃ§Ãµes repetitivas sem risco de esquecer algum item

---

## ğŸ› ï¸ Como usar

### 1ï¸âƒ£ Acessando a Ferramenta
No menu do QGIS:

**MTL Tools â†’ Replace Text in Layouts**

A janela principal serÃ¡ exibida com os campos necessÃ¡rios.

---

### 2ï¸âƒ£ Preenchendo os Campos

- **Texto a buscar**  
  O texto presente nos layouts que vocÃª deseja localizar.  
  Exemplo: `SEINFRA 2023`

- **Texto a substituir (novo)**  
  O texto que entrarÃ¡ no lugar do antigo.  
  Exemplo: `SEINFRA 2024`

- **Case Sensitive**  
  - **Marcado:** diferencia letras maiÃºsculas/minÃºsculas  
  - **Desmarcado:** ignora diferenÃ§a (recomenda-se para a maioria dos casos)

- **Modo Chave (opcional)**  
  Quando ativado, substitui **todo o conteÃºdo do rÃ³tulo** se o texto buscado for encontrado, em vez de substituir apenas a parte correspondente.  
  Ãštil para rÃ³tulos com textos completos variÃ¡veis.

---

## ğŸ—„ï¸ Backup AutomÃ¡tico

Sempre que o projeto estiver salvo, antes de qualquer modificaÃ§Ã£o o plugin criarÃ¡ um **backup completo do .qgz**:

ğŸ“ `nome_do_projeto/backup/nomedoprojeto_YYYYMMDDHHMMSS.qgz`

Isso garante que vocÃª pode reverter qualquer modificaÃ§Ã£o, mesmo que mÃºltiplos layouts sejam alterados.

Se o projeto **nÃ£o estiver salvo**, vocÃª serÃ¡ avisado e poderÃ¡ continuar se desejar â€” porÃ©m sem backup automÃ¡tico.

---

## ğŸ““ Arquivo de Log

Toda execuÃ§Ã£o gera um arquivo de log na mesma pasta de backup:

ğŸ“„ `backup/replace_log_YYYYMMDDHHMMSS.txt`

O log registra:

- NÃºmero total de substituiÃ§Ãµes aplicadas  
- Lista dos layouts alterados  
- ConteÃºdo antigo e novo de cada rÃ³tulo modificado  
- Nome do arquivo de backup criado  
- Data e hora completas da operaÃ§Ã£o  
- ConfirmaÃ§Ã£o de tÃ©rmino bem-sucedido

Esse registro Ã© essencial para auditoria e rastreabilidade.

---

## ğŸš€ Boas prÃ¡ticas de uso

Para garantir substituiÃ§Ãµes seguras e previsÃ­veis:

- Salve o projeto antes de usar a ferramenta  
- Use buscas especÃ­ficas para evitar substituiÃ§Ãµes indesejadas  
- Evite termos muito genÃ©ricos (ex.: â€œKMâ€)  
- Prefira expressÃµes completas (â€œKM 123+500â€)  
- Revise o log apÃ³s a execuÃ§Ã£o para confirmar todas as alteraÃ§Ãµes  
- Utilize o modo chave apenas quando realmente necessÃ¡rio

---

## â¤ï¸ Criado por

**Matheus A.S. Martinelli**  
Ferramentas prÃ¡ticas para acelerar fluxos reais de cartografia e geoprocessamento no QGIS.
