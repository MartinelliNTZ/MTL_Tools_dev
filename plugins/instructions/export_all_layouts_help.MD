# ğŸ“˜ Export All Layouts â€“ Manual de UtilizaÃ§Ã£o  
Ferramenta do pacote **MTL Tools** para exportaÃ§Ã£o automatizada de *layouts* do QGIS.

---

## ğŸ“Œ O que esta ferramenta faz?

Esta ferramenta percorre **todos os layouts do projeto atual** do QGIS e permite exportÃ¡-los:

- Em **PDF**
- Em **PNG**
- Com opÃ§Ã£o de **unificar todos os PDFs** exportados em um arquivo final
- Com opÃ§Ã£o de **unificar PNGs em um Ãºnico PDF**
- Respeitando ou nÃ£o a substituiÃ§Ã£o de arquivos jÃ¡ existentes

Ela tambÃ©m grava **preferÃªncias do usuÃ¡rio**, para manter as escolhas entre execuÃ§Ãµes.

---

## ğŸ§© Componentes principais

### âœ” Formatos de exportaÃ§Ã£o  
VocÃª pode ativar/desativar:

- **Exportar PDF**
- **Exportar PNG**

---

### âœ” OpÃ§Ãµes adicionais  
- **Unir PDFs exportados** â†’ Gera um Ãºnico PDF contendo todos os layouts.
- **Unir PNGs em um PDF** â†’ Converte todos os PNGs exportados para um Ãºnico documento.
- **Substituir arquivos existentes** â†’ Caso desativado, arquivos repetidos ganham sufixos _001, _002â€¦_

---

### âœ” Max Width para uniÃ£o de PNG  
Define a largura mÃ¡xima dos PNGs ao gerar o PDF unificado.  
Ãštil para manter proporÃ§Ã£o/dimensionamento em grandes formatos.

---

### âœ” SeleÃ§Ã£o da pasta de saÃ­da

VocÃª pode:

- Informar manualmente
- Selecionar via botÃ£o
- Usar automaticamente a pasta do projeto â†’ `â€¦/exports/`

Caso a pasta nÃ£o exista, ela serÃ¡ criada.

---

## â–¶ Como usar

### 1. Abra o diÃ¡logo  
Menu â†’ *MTL Tools* â†’ **Export All Layouts**

---

### 2. Escolha os formatos

Marque se deseja exportar:

- PDF  
- PNG  

VocÃª pode escolher os dois.

---

### 3. Configure opÃ§Ãµes extras

Se desejar:

- Gerar um Ãºnico PDF final (uniÃ£o dos PDFs)
- Unir todos PNGs em um PDF
- ForÃ§ar substituiÃ§Ã£o dos arquivos existentes
- Ajustar o *Max Width* da uniÃ£o dos PNGs

---

### 4. Defina um diretÃ³rio de saÃ­da  

Use:

- **Selecionar pasta**  
ou  
- **Usar pasta do projeto**

---

### 5. Clique em **Exportar**

A ferramenta:

1. Lista todos os layouts do projeto  
2. Exporta um por um  
3. Exibe um **diÃ¡logo de progresso**  
4. Registra erros individuais (se houver)  
5. Mostra um resumo final com link clicÃ¡vel para a pasta

---

## ğŸ”„ Salvamento de preferÃªncias

Cada execuÃ§Ã£o grava automaticamente as opÃ§Ãµes escolhidas.  
Na prÃ³xima abertura, tudo Ã© carregado do arquivo `.prefs` da ferramenta.

## ğŸ“¦ Bibliotecas necessÃ¡rias

Algumas funcionalidades desta ferramenta dependem de bibliotecas Python externas:

- **PyPDF2** â†’ necessÃ¡ria para **unir PDFs**  
- **Pillow (PIL)** â†’ necessÃ¡ria para **unir PNGs em um PDF**

Se essas bibliotecas nÃ£o estiverem instaladas, a ferramenta exibirÃ¡ um aviso e permitirÃ¡ abrir um instalador automÃ¡tico:

- `install_pypdf2.bat`
- `install_pillow.cmd`

âš  **Importante:** apÃ³s instalar qualquer uma dessas bibliotecas, Ã© **obrigatÃ³rio reiniciar o QGIS** para que elas sejam reconhecidas pelo Python interno do QGIS.

---

## ğŸ”‘ Chave de preferÃªncias da ferramenta

A ferramenta utiliza a seguinte chave interna para salvar e carregar configuraÃ§Ãµes:

`export_all_layouts`

